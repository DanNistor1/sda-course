<div class="panel panel-default">  
  <div class="panel-heading">  
      <h1 style="text-align: center">Books</h1><br>

      <div class="row" [hidden]="!deleteMessage">  
        <div class="col-sm-4"></div>  
          <div class="col-sm-4">  
            <div class="alert alert-info alert-dismissible">  
              <button type="button" (click)="deleteMessage=false" class="close" data-dismiss="alert">Ã—</button>  
              <strong>Book data deleted</strong>  
            </div>  
          </div>  
        <div class="col-sm-4"></div>  
      </div>
                   
  </div> 
    
  <div class="panel-body">  
    <table  class="table table-hover table-sm" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">  
        <thead class="thead-light">  
            <tr> 
                <th>ID</th> 
                <th>Book title</th>  
                <th>Book author</th>  
                <th>Published</th>  
                <th>Action</th>  
            </tr>  
        </thead>  
        <tbody>
             <tr *ngFor="let book of books"> 
                <td>{{book.id}}</td> 
                <td>{{book.title}}</td>  
                <td>{{book.author}}</td>  
                <td>{{book.published}}</td>  
                <td><button (click)="deleteBook(book.id)" class='btn btn-primary'><i class="fa fa-futboll-0">Delete</i></button> 
                    <button (click)="getBook(book.id); isupdated=false" class='btn btn-info'>Update</button>  
                </td>  
              </tr>
        </tbody><br>  
    </table>  
  </div>  
</div>  

<div [hidden]="!toupdate">  
    
  <div class="row">  
    <div class="col-sm-4"></div>  
    <div class="col-sm-4">  
      <div  style="width: 400px;"> 
      <h3>Update Book</h3>
      <form [formGroup]="bookUpdateForm" #bookToUpdate (ngSubmit)="updateBook(bookToUpdate)">
        
          <input type="hidden" class="form-control"  formControlName="book_id" > 

          <div class="form-group">
              <label for="inp1">Book Title</label>
              <input id="inp1" type="text" class="form-control" formControlName="book_title"
                data-toggle="tooltip" data-placement="right" title="Enter book title">  
          </div>  
    
          <div class="form-group">  
              <label for="inp2">Book Author</label>  
              <input id="inp2" type="text" class="form-control" formControlName="book_author"   
                data-toggle="tooltip" data-placement="right" title="Enter book author" >  
          </div>  
    
          <div class="form-group">  
              <label for="inp3">Book Published</label>  
              <input id="inp3" type="date" class="form-control" formControlName="book_published"
                data-toggle="tooltip" data-placement="right" title="Enter book published" required>
                <div class="alert alert-danger" *ngIf= "bookPublished.invalid && (bookPublished.dirty || bookPublished.touched)" style="margin-top: 5px;">  
                  <div *ngIf="bookPublished.errors.isError">{{bookPublished.errors.message}}</div>  
                </div> 
          </div>   

          <button type="submit" class="btn btn-success" [disabled]="!bookUpdateForm.valid">Submit</button>  
      </form>  
      </div>  
    </div>  
    <div class="col-sm-4"></div>
  </div>  
</div>

<div class="row" [hidden]="!isupdated">  
  <div class="col-sm-4"></div>  
  <div class="col-sm-4">  
      <div div class="alert alert-info alert-dismissible">  
        <button type="button" (click)="isupdated=false" class="close" data-dismiss="alert">x</button>   
        <strong>Book Detail Updated!</strong>
      </div>        
  </div>  
  <div class="col-sm-4"></div>  
</div>

